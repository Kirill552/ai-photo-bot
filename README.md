# –ù–µ–π—Ä–æ—Ñ–æ—Ç–æ—Å–µ—Å—Å–∏–∏ (AI Photo Session Bot) v2

ü§ñ Telegram-–±–æ—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã—Ö AI-–ø–æ—Ä—Ç—Ä–µ—Ç–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º OpenAI Assistants –∏ PiAPI

## üéØ –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞

–°–µ—Ä–≤–∏—Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∂–µ–Ω—Å–∫–∏—Ö —Ñ–æ—Ç–æ—Å–µ—Å—Å–∏–π (AI-–ø–æ—Ä—Ç—Ä–µ—Ç—ã) —á–µ—Ä–µ–∑ Telegram-–±–æ—Ç–∞. –ö–ª–∏–µ–Ω—Ç–∫–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç —Å–≤–æ–∏ —Å–µ–ª—Ñ–∏, –ø—Ä–æ—Ö–æ–¥—è—Ç –∏–Ω—Ç–µ—Ä–≤—å—é —Å AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–º, –∏ –ø–æ–ª—É—á–∞—é—Ç –¥–æ 100 –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –ø–æ—Ä—Ç—Ä–µ—Ç–æ–≤ –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å—Ç–∏–ª—è—Ö.

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
- üé® 6 –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã—Ö —Å—Ç–∏–ª–µ–π —Ñ–æ—Ç–æ—Å–µ—Å—Å–∏–π
- ü§ñ –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–µ –∏–Ω—Ç–µ—Ä–≤—å—é –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ
- ‚ö° –ë—ã—Å—Ç—Ä–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ Flux/GPT-4o-image
- üì¶ –£–º–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (–∞–ª—å–±–æ–º—ã/–∞—Ä—Ö–∏–≤—ã)
- üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ —Ñ–∞–π–ª–æ–≤
- ‚òÅÔ∏è Serverless –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (Yandex Cloud)

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫ v2
- **Backend**: Python, aiogram
- **AI**: OpenAI Assistants API, PiAPI (Flux/GPT-4o-image)
- **Storage**: Yandex Object Storage
- **Queue**: Yandex Message Queue (–≤–º–µ—Å—Ç–æ Redis/Celery)
- **Infrastructure**: Docker, Yandex Serverless Containers

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Docker –∏ Docker Compose (–¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
- API –∫–ª—é—á–∏: OpenAI, PiAPI, Telegram Bot, Yandex Cloud
- Yandex Cloud –∞–∫–∫–∞—É–Ω—Ç —Å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**
```bash
git clone <repo-url>
cd –Ω–µ–π—Ä–æ—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ
```

2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è**
```bash
cp config.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Å –≤–∞—à–∏–º–∏ API –∫–ª—é—á–∞–º–∏
```

3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ OpenAI Assistant**
```bash
python assistant_setup.py
```

4. **–õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞**
```bash
docker-compose up -d --build
```

5. **–î–µ–ø–ª–æ–π –≤ Yandex Cloud**
```bash
# –°–æ–∑–¥–∞–π—Ç–µ Message Queue –∏ Object Storage
# –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Serverless Containers
# –ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –≤ GETTING_STARTED.md
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ v2

```
–Ω–µ–π—Ä–æ—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ bot/           # Telegram Bot (aiogram)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ main.py, handlers.py, assistant.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config.py, utils.py, middleware.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Dockerfile, requirements.txt
‚îÇ   ‚îî‚îÄ‚îÄ worker/        # Image Generation Worker
‚îÇ       ‚îú‚îÄ‚îÄ tasks.py, image_generator.py, mq_client.py
‚îÇ       ‚îú‚îÄ‚îÄ prompts.py, storage.py, config.py
‚îÇ       ‚îî‚îÄ‚îÄ Dockerfile, requirements.txt
‚îú‚îÄ‚îÄ .github/workflows/ # CI/CD
‚îÇ   ‚îî‚îÄ‚îÄ deploy.yml
‚îú‚îÄ‚îÄ docker-compose.yml # –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è (2 —Å–µ—Ä–≤–∏—Å–∞)
‚îú‚îÄ‚îÄ assistant_setup.py
‚îú‚îÄ‚îÄ deploy.sh
‚îú‚îÄ‚îÄ README.md, GETTING_STARTED.md
‚îî‚îÄ‚îÄ config.example     # Environment variables template
```

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è v2

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (.env)
```env
# OpenAI
OPENAI_API_KEY=sk-...
ASSISTANT_ID=asst_...

# Telegram
BOT_TOKEN=...
WEBHOOK_URL=https://yourdomain.com/webhook

# PiAPI
PIAPI_KEY=...

# Yandex Cloud
YC_ACCESS_KEY=...
YC_SECRET_KEY=...
YC_BUCKET_NAME=ai-photos
YC_MQ_URL=https://message-queue.api.cloud.yandex.net/...
YC_MQ_QUEUE_NAME=jobs
```

### –°—Ç–∏–ª–∏ —Ñ–æ—Ç–æ—Å–µ—Å—Å–∏–π
- **Studio Vogue**: –ì–ª—è–Ω—Ü–µ–≤—ã–µ –ø–æ—Ä—Ç—Ä–µ—Ç—ã –≤ —Å—Ç–∏–ª–µ –º–æ–¥–Ω—ã—Ö –∂—É—Ä–Ω–∞–ª–æ–≤
- **Pastel Dream**: –ù–µ–∂–Ω—ã–µ –ø–∞—Å—Ç–µ–ª—å–Ω—ã–µ —Ç–æ–Ω–∞
- **CEO Shot**: –î–µ–ª–æ–≤—ã–µ –ø–æ—Ä—Ç—Ä–µ—Ç—ã
- **Film 90s**: –í–∏–Ω—Ç–∞–∂–Ω–∞—è –ø–ª–µ–Ω–æ—á–Ω–∞—è —ç—Å—Ç–µ—Ç–∏–∫–∞
- **Golden Hour**: –ü–æ—Ä—Ç—Ä–µ—Ç—ã –≤ –∑–æ–ª–æ—Ç–æ–π —á–∞—Å
- **Black & White Classic**: –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–µ —á–µ—Ä–Ω–æ-–±–µ–ª—ã–µ –ø–æ—Ä—Ç—Ä–µ—Ç—ã

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ v2 (Serverless)

```
User (Telegram) ‚Üí aiogram Bot ‚Üí OpenAI Assistants
     ‚îÇ                      ‚îÇ  ‚îî‚îÄ(tool: collect_brief)
     ‚îÇ                      ‚îî‚îÄ‚ñ∂ Yandex Message Queue
     ‚îÇ                             ‚îÇ
     ‚îÇ                      Worker (Serverless) ‚Üí PiAPI Flux/GPT-4o-image
     ‚îÇ                             ‚îÇ
     ‚îÇ                      images (YC Object Storage)
     ‚ñº                             ‚îÇ
Telegram album ‚óÄ‚îÄ‚îÄ Delivery Function ‚óÄ‚îÄ‚îò
```

## üìä –°—Ç–∞—Ç—É—Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ v2

- ‚úÖ –û—Å–Ω–æ–≤–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ Docker –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —É–ø—Ä–æ—â–µ–Ω–∞
- ‚úÖ Telegram –±–æ—Ç
- ‚úÖ OpenAI Assistant
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è PiAPI
- ‚úÖ Yandex Message Queue –∫–ª–∏–µ–Ω—Ç
- ‚úÖ –•—Ä–∞–Ω–∏–ª–∏—â–µ —Ñ–∞–π–ª–æ–≤
- ‚è≥ Serverless Containers –¥–µ–ø–ª–æ–π
- ‚è≥ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

## üìà –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ v2

### –£–±—Ä–∞–Ω–æ
- ‚ùå OpenAI Proxy (–ø—Ä—è–º—ã–µ –≤—ã–∑–æ–≤—ã API)
- ‚ùå Redis + Celery (–∑–∞–º–µ–Ω–µ–Ω–æ –Ω–∞ YC Message Queue)
- ‚ùå Caddy –≤–µ–±-—Å–µ—Ä–≤–µ—Ä
- ‚ùå –°–ª–æ–∂–Ω–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

### –î–æ–±–∞–≤–ª–µ–Ω–æ
- ‚úÖ Yandex Message Queue –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- ‚úÖ Serverless-–≥–æ—Ç–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- ‚úÖ –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- ‚úÖ –ë–æ–ª–µ–µ —ç–∫–æ–Ω–æ–º–∏—á–Ω—ã–π –¥–µ–ø–ª–æ–π

## üí∞ –≠–∫–æ–Ω–æ–º–∏–∫–∞

| –ü–∞–∫–µ—Ç | –¶–µ–Ω–∞ | –°–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å | –ú–∞—Ä–∂–∞ |
|-------|------|---------------|-------|
| 40 —Ñ–æ—Ç–æ | 1,099‚ÇΩ | ~$0.08-0.80 | 92-99% |
| 100 —Ñ–æ—Ç–æ | 1,799‚ÇΩ | ~$0.20-2.00 | 80-98% |

*–°–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å —Å–Ω–∏–∂–µ–Ω–∞ –±–ª–∞–≥–æ–¥–∞—Ä—è serverless –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ*

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

–ß–∞—Å—Ç–Ω—ã–π –ø—Ä–æ–µ–∫—Ç. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.

## üîó –ö–æ–Ω—Ç–∞–∫—Ç—ã

- Telegram: @your_username
- Email: your.email@example.com