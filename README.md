# AI Photo Bot v2025 ๐ค๐ธ

Telegram-ะฑะพั ะดะปั ัะพะทะดะฐะฝะธั ะฟัะพัะตััะธะพะฝะฐะปัะฝัั AI-ะฟะพัััะตัะพะฒ ั ะธัะฟะพะปัะทะพะฒะฐะฝะธะตะผ OpenAI Assistants ะธ PiAPI

## ๐ฏ ะะฑะทะพั ะฟัะพะตะบัะฐ

ะกะพะฒัะตะผะตะฝะฝัะน ัะตัะฒะธั ะณะตะฝะตัะฐัะธะธ AI-ัะพัะพัะตััะธะน ัะตัะตะท Telegram. ะะพะปัะทะพะฒะฐัะตะปะธ ะทะฐะณััะถะฐัั ัะตะปัะธ, ะฟัะพัะพะดัั ะธะฝัะตะปะปะตะบััะฐะปัะฝะพะต ะธะฝัะตัะฒัั ั AI-ะฐััะธััะตะฝัะพะผ, ะธ ะฟะพะปััะฐัั ะฟัะพัะตััะธะพะฝะฐะปัะฝัะต ะฟะพัััะตัั ะฒ ัะฐะทะปะธัะฝัั ััะธะปัั.

### ะัะพะฑะตะฝะฝะพััะธ v2025
- ๐จ **8 ะฝะพะฒัั ััะธะปะตะน** (RL-01 ะดะพ CSP-08) ั LoRA ะฟะพะดะดะตัะถะบะพะน
- ๐ฌ **ะะธะดะตะพ ะณะตะฝะตัะฐัะธั** ะดะปั ะฟะฐะบะตัะพะฒ ะกัะฐะฝะดะฐัั/ะัะตะผะธัะผ
- โจ **ะะฒัะพะผะฐัะธัะตัะบะธะน ะฟะพัั-ะฟัะพัะตัั** ะดะปั ะฟัะตะผะธัะผ ะฟะฐะบะตัะฐ
- ๐ **ะะฝะบะปัะทะธะฒะฝะพััั** - ะฟะพะดะดะตัะถะบะฐ ะบะปะธะตะฝัะพะฒ ะปัะฑะพะณะพ ะฟะพะปะฐ
- โก **Yandex Message Queue** ะฒะผะตััะพ Redis/Celery
- โ๏ธ **Serverless ะฐััะธัะตะบัััะฐ** (ัะพะปัะบะพ 2 ะบะพะฝัะตะนะฝะตัะฐ)

### ะะธะฝะตะนะบะฐ ะฟะฐะบะตัะพะฒ 2025
- **๐ ะัะพะฑะฝัะน** - 2 ัะพัะพ, ะฑะตัะฟะปะฐัะฝะพ
- **๐ฑ ะะฐะทะพะฒัะน** - 10 ัะพัะพ, 1500โฝ 
- **๐ฌ ะกัะฐะฝะดะฐัั** - 25 ัะพัะพ + 1 ะฒะธะดะตะพ, 3500โฝ
- **โจ ะัะตะผะธัะผ** - 50 ัะพัะพ + 2 ะฒะธะดะตะพ + ะฟะพัั-ะฟัะพัะตัั, 8990โฝ

### ะขะตัะฝะพะปะพะณะธัะตัะบะธะน ััะตะบ v2025
- **Backend**: Python, aiogram 3.2
- **AI**: OpenAI Assistants API, PiAPI (Flux + WanX)
- **Storage**: Yandex Object Storage
- **Queue**: Yandex Message Queue (managed)
- **ML**: Video generation + Post-processing pipeline
- **Infrastructure**: Docker, Yandex Cloud

## ๐ ะัััััะน ััะฐัั

### ะขัะตะฑะพะฒะฐะฝะธั
- Docker ะธ Docker Compose
- API ะบะปััะธ: OpenAI, PiAPI, Telegram Bot, Yandex Cloud
- VPS ะธะปะธ Yandex Serverless Containers

### ะฃััะฐะฝะพะฒะบะฐ

1. **ะะปะพะฝะธััะนัะต ัะตะฟะพะทะธัะพัะธะน**
```bash
git clone https://github.com/YOUR_USERNAME/ai-photo-bot.git
cd ะฝะตะนัะพัะพัะพะณัะฐั
```

2. **ะะฐัััะพะนัะต ะฟะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั**
```bash
# ะกะพะทะดะฐะนัะต .env ั ะบะปััะฐะผะธ (ัะผ. GETTING_STARTED.md)
nano .env
```

3. **ะกะพะทะดะฐะนัะต OpenAI Assistant**
```bash
python assistant_setup.py
```

4. **ะะฐะฟัััะธัะต ัะตัะฒะธัั**
```bash
docker compose up -d --build
```

**๐ ะะพะดัะพะฑะฝะฐั ะธะฝััััะบัะธั:** [GETTING_STARTED.md](GETTING_STARTED.md)

## ๐ ะกัััะบัััะฐ ะฟัะพะตะบัะฐ v2025

```
ะฝะตะนัะพัะพัะพะณัะฐั/
โโโ src/
โ   โโโ bot/                    # Telegram Bot (aiogram)
โ   โ   โโโ main.py            # ะัะฝะพะฒะฝะพะน ะผะพะดัะปั ะฑะพัะฐ
โ   โ   โโโ handlers.py        # ะะฑัะฐะฑะพััะธะบะธ ะบะพะผะฐะฝะด ะธ ะบะพะปะฑัะบะพะฒ
โ   โ   โโโ assistant.py       # OpenAI Assistant ะธะฝัะตะณัะฐัะธั
โ   โ   โโโ config.py, utils.py, middleware.py
โ   โ   โโโ Dockerfile, requirements.txt
โ   โโโ worker/                 # Image Generation Worker  
โ       โโโ main.py            # YC Message Queue worker
โ       โโโ tasks.py           # ะะฐะดะฐัะธ ะพะฑัะฐะฑะพัะบะธ
โ       โโโ image_generator.py # PiAPI Flux ะณะตะฝะตัะฐัะธั
โ       โโโ video_generator.py # WanX ะฒะธะดะตะพ ะณะตะฝะตัะฐัะธั
โ       โโโ post_processor.py  # ะะพัั-ะพะฑัะฐะฑะพัะบะฐ ะฟัะตะผะธัะผ
โ       โโโ storage.py         # Yandex Object Storage
โ       โโโ mq_client.py       # Message Queue ะบะปะธะตะฝั
โ       โโโ prompts.py         # ะกัะธะปะธ ะธ ะฟัะพะผะฟัั
โ       โโโ Dockerfile, requirements.txt
โโโ .github/workflows/          # GitHub Actions CI/CD
โโโ assistant_setup.py         # ะะฐัััะพะนะบะฐ OpenAI Assistant
โโโ deploy.sh                  # ะกะบัะธะฟั ะดะตะฟะปะพั v2025
โโโ docker-compose.yml         # ะขะพะปัะบะพ 2 ัะตัะฒะธัะฐ!
โโโ GETTING_STARTED.md         # ะะฑะฝะพะฒะปะตะฝะฝะพะต ััะบะพะฒะพะดััะฒะพ
```

## ๐ง ะะพะฝัะธะณััะฐัะธั v2025

### ะัะฝะพะฒะฝัะต ะฟะตัะตะผะตะฝะฝัะต (.env)
```env
# Telegram Bot
BOT_TOKEN=1234567890:ABC...
DOMAIN=your-domain.com
WEBHOOK_SECRET=generated-secret

# OpenAI
OPENAI_API_KEY=sk-proj-...
ASSISTANT_ID=asst_...

# PiAPI
PIAPI_KEY=your-piapi-key
PIAPI_BASE_URL=https://api.piapi.ai

# Yandex Message Queue
YC_MQ_URL=https://message-queue.api.cloud.yandex.net/...
YC_MQ_QUEUE_NAME=ai-photo-jobs

# Yandex Object Storage
YC_ACCESS_KEY=your-access-key
YC_SECRET_KEY=your-secret-key
YC_BUCKET_NAME=ai-photos
YC_ENDPOINT=https://storage.yandexcloud.net

# Worker ะฝะฐัััะพะนะบะธ
WORKER_CONCURRENCY=4
```

### ะะพะฒัะต ััะธะปะธ v2025
- **RL-01**: ะะตะฐะปะธััะธัะฝัะต ะฟะพัััะตัั (LoRA: realism)
- **FN-02**: Fashion & Beauty ะฟะพัััะตัั
- **CP-03**: ะะพัะฟะพัะฐัะธะฒะฝัะต ัะพัะพ
- **MJ6-04**: ะฅัะดะพะถะตััะฒะตะฝะฝัะต ะฟะพัััะตัั (LoRA: mjv6)
- **CEO-05**: ะะตะปะพะฒัะต ะฟะพัััะตัั
- **PST-06**: ะะฐััะตะปัะฝัะต ัะพะฝะฐ
- **CLS-07**: ะะปะฐััะธัะตัะบะธะต ะฟะพัััะตัั
- **CSP-08**: ะัะตะฐัะธะฒะฝัะต ะฟะพัััะตัั (LoRA: graphic-portrait)

## ๐๏ธ ะััะธัะตะบัััะฐ v2025

```
โโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
โ Telegram    โ    โ Yandex Message   โ    โ Image Worker    โ
โ Bot         โโโโโถโ Queue            โโโโโถโ (Processing)    โ
โ (webhook)   โ    โ (managed)        โ    โ                 โ
โโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
       โ                                           โ
       โ            โโโโโโโโโโโโโโโโโโโโ          โ
       โโโโโโโโโโโโโถโ OpenAI          โ          โ
                    โ Assistant        โ          โ
                    โ (collect_brief)  โ          โ
                    โโโโโโโโโโโโโโโโโโโโ          โ
                                                  โ
                    โโโโโโโโโโโโโโโโโโโโ          โ
                    โ Yandex Object    โโโโโโโโโโโโ
                    โ Storage          โ
                    โ (images/videos)  โ
                    โโโโโโโโโโโโโโโโโโโโ
```

**ะะพะผะฟะพะฝะตะฝัั:**
- **telegram-bot**: Webhook ะพะฑัะฐะฑะพัะบะฐ, ะธะฝัะตัะฒัั ั Assistant
- **image-worker**: ะะตะฝะตัะฐัะธั ะธะทะพะฑัะฐะถะตะฝะธะน/ะฒะธะดะตะพ ัะตัะตะท YC Message Queue
- **OpenAI Assistant**: ะกะฑะพั ัะตัะฝะธัะตัะบะพะณะพ ะทะฐะดะฐะฝะธั
- **PiAPI**: Flux ะผะพะดะตะปะธ + WanX ะฒะธะดะตะพ ะณะตะฝะตัะฐัะธั
- **YC Message Queue**: ะฃะฟัะฐะฒะปัะตะผะฐั ะพัะตัะตะดั (ะทะฐะผะตะฝัะตั Redis/Celery)
- **YC Object Storage**: ะฅัะฐะฝะตะฝะธะต ัะตะทัะปััะฐัะพะฒ

## ๐ ะกัะฐััั ัะฐะทัะฐะฑะพัะบะธ v2025

### โ ะะตะฐะปะธะทะพะฒะฐะฝะพ
- โ ะะพะฒะฐั ะปะธะฝะตะนะบะฐ ะฟะฐะบะตัะพะฒ (ะัะพะฑะฝัะน โ ะัะตะผะธัะผ)
- โ 8 ะฝะพะฒัั ััะธะปะตะน ั LoRA ะฟะพะดะดะตัะถะบะพะน
- โ ะะธะดะตะพ ะณะตะฝะตัะฐัะธั (WanX + Framepack)
- โ ะะฒัะพะผะฐัะธัะตัะบะธะน ะฟะพัั-ะฟัะพัะตัั (NSFW, restore, 4K upscale)
- โ ะะฝะบะปัะทะธะฒะฝัะต ะฟัะพะผะฟัั (ะปัะฑะพะน ะฟะพะป)
- โ YC Message Queue ะธะฝัะตะณัะฐัะธั
- โ ะฃะฟัะพัะตะฝะฝะฐั ะฐััะธัะตะบัััะฐ (2 ะบะพะฝัะตะนะฝะตัะฐ)
- โ GitHub Actions CI/CD
- โ ะะฑะฝะพะฒะปะตะฝะฝะฐั ะดะพะบัะผะตะฝัะฐัะธั

### ๐ ะะพัะพะฒะพ ะบ ะฟัะพะดะฐะบัะตะฝั!

## ๐ ะะทะผะตะฝะตะฝะธั ะฒ v2025

### โ ะฃะฑัะฐะฝะพ (ะฐััะธัะตะบัััะฐ v1)
- โ OpenAI Proxy (ะฟััะผัะต ะฒัะทะพะฒั API)
- โ Redis + Celery (ะทะฐะผะตะฝะตะฝะพ ะฝะฐ YC Message Queue)
- โ Caddy ะฒะตะฑ-ัะตัะฒะตั
- โ ะกะปะพะถะฝะฐั ะธะฝััะฐััััะบัััะฐ (5+ ะบะพะฝัะตะนะฝะตัะพะฒ)
- โ proxy/ ะบะฐัะฐะปะพะณ

### โ ะะพะฑะฐะฒะปะตะฝะพ (ะฐััะธัะตะบัััะฐ v2025)
- โ Yandex Message Queue (managed)
- โ ะะธะดะตะพ ะณะตะฝะตัะฐัะธั
- โ ะะพัั-ะฟัะพัะตัั ะฐะฒัะพะผะฐัะธะทะฐัะธั
- โ Serverless-ready ะฐััะธัะตะบัััะฐ
- โ ะะฝะบะปัะทะธะฒะฝะพััั
- โ ะะฐะบัะตะฟะปะตะฝะฝัะต ะฒะตััะธะธ ะทะฐะฒะธัะธะผะพััะตะน



## ๐๏ธ ะะพะดะดะตัะถะบะฐ

**ะะพะบัะผะตะฝัะฐัะธั:**
- [๐ ะัััััะน ััะฐัั](GETTING_STARTED.md)
- [โ๏ธ ะะพะผะฐะฝะดั ัะตัะฒะตัะฐ](ะธะฝััััะบัะธั.md)
- [๐ ะะปะฐะฝ ะฟัะพะตะบัะฐ](ะฟะปะฐะฝ%20ะฟัะพะตะบัะฐ.md)

**ะะธะฐะณะฝะพััะธะบะฐ:**
```bash
# Health check
docker compose exec image-worker python -c "
from worker.health import check_health
print(check_health())
"

# ะกัะฐััั v2025
docker compose ps
docker compose logs -f
```

## ๐ ะะธัะตะฝะทะธั

ะงะฐััะฝัะน ะฟัะพะตะบั. ะัะต ะฟัะฐะฒะฐ ะทะฐัะธัะตะฝั.

---

**๐ฏ AI Photo Bot v2025** - ัะพะฒัะตะผะตะฝะฝะฐั, ัะบะพะฝะพะผะธัะฝะฐั ะธ ะผะฐัััะฐะฑะธััะตะผะฐั ะฐััะธัะตะบัััะฐ ะดะปั ะณะตะฝะตัะฐัะธะธ AI-ะฟะพัััะตัะพะฒ